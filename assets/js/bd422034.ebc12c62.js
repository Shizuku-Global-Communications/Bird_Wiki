"use strict";(self.webpackChunkBird_Wiki=self.webpackChunkBird_Wiki||[]).push([[187],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),s=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=s(e.components);return r.createElement(l.Provider,{value:n},e.children)},u="mdxType",f={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=s(t),d=a,m=u["".concat(l,".").concat(d)]||u[d]||f[d]||i;return t?r.createElement(m,o(o({ref:n},p),{},{components:t})):r.createElement(m,o({ref:n},p))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=d;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c[u]="string"==typeof e?e:a,o[1]=c;for(var s=2;s<i;s++)o[s]=t[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7347:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>c,metadata:()=>s,toc:()=>u});var r=t(7462),a=t(3366),i=(t(7294),t(3905)),o=["components"],c={description:"\u8fd9\u91cc\u5305\u542b\u7740\u76ee\u524d\u5e38\u7528\u7684\u56fa\u5b9a\u5b9a\u4e49"},l="\u57fa\u7840\u8fc7\u6ee4\u5b9a\u4e49",s={unversionedId:"attachments/basic-filters",id:"attachments/basic-filters",title:"\u57fa\u7840\u8fc7\u6ee4\u5b9a\u4e49",description:"\u8fd9\u91cc\u5305\u542b\u7740\u76ee\u524d\u5e38\u7528\u7684\u56fa\u5b9a\u5b9a\u4e49",source:"@site/docs/attachments/basic-filters.md",sourceDirName:"attachments",slug:"/attachments/basic-filters",permalink:"/docs/attachments/basic-filters",draft:!1,tags:[],version:"current",frontMatter:{description:"\u8fd9\u91cc\u5305\u542b\u7740\u76ee\u524d\u5e38\u7528\u7684\u56fa\u5b9a\u5b9a\u4e49"},sidebar:"sidebar",previous:{title:"BIRD 2.0.10\u5b89\u88c5\u65b9\u6cd5",permalink:"/docs/attachments/bird-2.0.10-install"},next:{title:"IRR RPKI \u670d\u52a1\u7684\u642d\u5efa\u548c\u4f7f\u7528",permalink:"/docs/attachments/irr-rpki-build-and-use"}},p={},u=[],f={toc:u},d="wrapper";function m(e){var n=e.components,t=(0,a.Z)(e,o);return(0,i.kt)(d,(0,r.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u57fa\u7840\u8fc7\u6ee4\u5b9a\u4e49"},"\u57fa\u7840\u8fc7\u6ee4\u5b9a\u4e49"),(0,i.kt)("p",null,"\u4ee5\u4e0b\u4e3a\u56fa\u5b9a\u5b9a\u4e49"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"define BOGON_ASNS = [ # \u5b9a\u4e49\u4fdd\u7559ASN\n    0,                      # RFC 7607\n    23456,                  # RFC 4893 AS_TRANS\n    64496..64511,           # RFC 5398 and documentation/example ASNs\n    64512..65534,           # RFC 6996 Private ASNs\n    65535,                  # RFC 7300 Last 16 bit ASN\n    65536..65551,           # RFC 5398 and documentation/example ASNs\n    65552..131071,          # RFC IANA reserved ASNs\n    4200000000..4294967294, # RFC 6996 Private ASNs\n    4294967295              # RFC 7300 Last 32 bit ASN\n];\ndefine BOGON_PREFIXES_V4 = [ # \u5b9a\u4e49\u4fdd\u7559IPv4\u524d\u7f00\n    0.0.0.0/8+,             # RFC 1122 'this' network\n    10.0.0.0/8+,            # RFC 1918 private space\n    100.64.0.0/10+,         # RFC 6598 Carrier grade nat space\n    127.0.0.0/8+,           # RFC 1122 localhost\n    169.254.0.0/16+,        # RFC 3927 link local\n    172.16.0.0/12+,         # RFC 1918 private space \n    192.0.2.0/24+,          # RFC 5737 TEST-NET-1\n    192.88.99.0/24{25,32},        # RFC 7526 deprecated 6to4 relay anycast. If you wish to allow this, change `24+` to `24{25,32}`(no more specific)\n    192.168.0.0/16+,        # RFC 1918 private space\n    198.18.0.0/15+,         # RFC 2544 benchmarking\n    198.51.100.0/24+,       # RFC 5737 TEST-NET-2\n    203.0.113.0/24+,        # RFC 5737 TEST-NET-3\n    224.0.0.0/4+,           # multicast\n    240.0.0.0/4+            # reserved\n];\ndefine BOGON_PREFIXES_V6 = [ # \u5b9a\u4e49\u4fdd\u7559IPv6\u524d\u7f00\n    ::/8+,                  # RFC 4291 IPv4-compatible, loopback, et al\n    0064:ff9b::/96+,        # RFC 6052 IPv4/IPv6 Translation\n    0064:ff9b:1::/48+,      # RFC 8215 Local-Use IPv4/IPv6 Translation\n    0100::/64+,             # RFC 6666 Discard-Only\n    2001::/32{33,128},      # RFC 4380 Teredo, no more specific\n    2001:2::/48+,           # RFC 5180 BMWG\n    2001:10::/28+,          # RFC 4843 ORCHID\n    2001:db8::/32+,         # RFC 3849 documentation\n    2002::/16{17,128},             # RFC 7526 deprecated 6to4 relay anycast. If you wish to allow this, change `16+` to `16{17,128}`(no more specific)\n    3ffe::/16+, 5f00::/8+,  # RFC 3701 old 6bone\n    fc00::/7+,              # RFC 4193 unique local unicast\n    fe80::/10+,             # RFC 4291 link local unicast\n    fec0::/10+,             # RFC 3879 old site local unicast\n    ff00::/8+               # RFC 4291 multicast\n];\ndefine TIER1_ASN = [ # \u5b9a\u4e49Tier1\u7684ASN\u7528\u4e8e\u68c0\u67e5bgp_path, Tier1\u7684ASN\u6765\u6e90\uff1aWikipedia - Tier 1 Network\n    7018,    # ATT\n    3320,    # Deutsche Telekom AG\n    3257,    # GTT\n    6830,    # Liberty Global\n    3356,    # Level3(Lumen)\n    2914,    # NTT\n    5511,    # Orange\n    3491,    # PCCW Global\n    1239,    # T-Mobile US (formerly Sprint)\n    6453,    # TATA\n    6762,    # Telecom Italia Sparkle\n    1299,    # Arelion (formerly Telia Carrier)\n    12956,   # Telxius\n    701,     # Verizon (UUNET)\n    6461,    # Zayo\n    6939,    # Hurricane Electric(\u867d\u7136\u5b9a\u4e49\u4e0a\u4e0d\u662fTier1\uff0c\u4f46\u662f\u8986\u76d6\u8303\u56f4\u8ba9\u6211\u89c9\u5f97\u6709\u5fc5\u8981\u6dfb\u52a0)\n    174      # Cogent(\u867d\u7136\u5b9a\u4e49\u4e0a\u4e0d\u662fTier1\uff0c\u4f46\u662f\u8986\u76d6\u8303\u56f4\u8ba9\u6211\u89c9\u5f97\u6709\u5fc5\u8981\u6dfb\u52a0)\n];\n")),(0,i.kt)("p",null,"\u4e00\u952e\u8c03\u7528\u9664 TIER1_ASN \u7684\u96c6\u5408\u4ee5\u5916\u7684\u5b9a\u4e49"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'function general_check(){ # \u8fd4\u56detrue\u5219\u62d2\u7edd\uff0c\u8fd4\u56defalse\u5219\u5141\u8bb8\n    if bgp_path ~ BOGON_ASNS then return true; # \u5982\u679c\u8def\u5f84\u5305\u542b\u4fdd\u7559ASN\u5219\u8fd4\u56detrue\n    case net.type {\n        NET_IP4: return net.len > 24 || net ~ BOGON_PREFIXES_V4; # IPv4 CIDR \u5927\u4e8e /24 \u4e3a\u592a\u957f\n        NET_IP6: return net.len > 48 || net ~ BOGON_PREFIXES_V6; # IPv6 CIDR \u5927\u4e8e /48 \u4e3a\u592a\u957f\n        else: print "unexpected net.type ", net.type, " ", net; return false; # \u4fdd\u5e95\uff0c\u4e00\u822c\u4e0d\u5e94\u8be5\u51fa\u73b0\u975eIP4/IP6\u7684\u524d\u7f00\u3002\n    }\n}\n')))}m.isMDXComponent=!0}}]);